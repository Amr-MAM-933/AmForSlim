<!DOCTYPE html>
<html>

<head>
    <title>PayToAct</title>
</head>

<body>
    <div id="smart-button-container">
        <div style="text-align: center;">
            <div id="paypal-button-container"></div>
        </div>
    </div>
    <div id="AM">
        <div id='setState'>

        </div>
        <script>
            stM00 = StaticRange;
            var stMEM00 = [stM00];
        </script>
        <script id="AM_State">
            var setSate = function (price) {
                paypal.Buttons({
                    style: {
                        shape: 'rect',
                        color: 'gold',
                        layout: 'vertical',
                        label: 'paypal',

                    },

                    createOrder: function (data, actions) {
                        return actions.order.create({
                            purchase_units: [{ "amount": { "currency_code": "USD", "value": price } }]
                        });
                    },

                    onApprove: function (data, actions) {
                        return actions.order.capture().then(function (details) {
                            window.open('success.html', '_self');
                            // alert('Transaction completed by ' + details.payer.name.given_name + '!');
                        });
                    },

                    onError: function (err) {
                        console.log(err);
                    }
                }).render('#paypal-button-container');
            }
        </script>
    </div>

    <script>
        stMEM00[16] = function () {
            stMEM00[18] = document.URL.indexOf('?');
            stMEM00[17] = new Array();
            if (stMEM00[18] != -1) {
                var pairs = document.URL.substring(stMEM00[18] + 1, document.URL.length).split('&');
                for (var i = 0; i < pairs.length; i++) {
                    nameVal = pairs[i].split('=');
                    stMEM00[17][nameVal[0]] = nameVal[1];
                }
            }
            return stMEM00[17];
        }
        stMEM00[15] = stMEM00[16]();
        stMEM00[0] = '</' + 'script>';
        stMEM00[1] = stMEM00[15]['AM_id'];
        stMEM00[2] = stMEM00[15]['AM_amount'];
        stMEM00[3] = 'https://www.paypal.com/sdk/js?client-id=' + stMEM00[1] + '&currency=USD';
        stMEM00[4] = 'button-factory';
        stMEM00[7] = 'data-sdk-integration-source';
        stMEM00[17] = function () {
            setSate(stMEM00[2]);
        };
        stMEM00[13] = document.createElement('script');
        stMEM00[13].onload = stMEM00[17];
        stMEM00[13].setAttribute(stMEM00[7], stMEM00[4]);
        stMEM00[13].src = stMEM00[3];
        stMEM00[14] = document.getElementById('setState');
        stMEM00[14].appendChild(stMEM00[13]);
    </script>
</body>

</html>